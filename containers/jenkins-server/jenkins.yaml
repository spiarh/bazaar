jenkins:
  systemMessage: "Jenkins QA-CAASP"
  numExecutors: 0

  clouds:
    - docker:
        name: "docker"
        dockerApi:
          dockerHost:
            uri: "unix:///var/run/docker.sock"
        templates:
          # Default docker slave
          - labelString: "docker-default"
            dockerTemplateBase:
              image: "jenkins-slave/default:stable"
            pullStrategy: "PULL_NEVER"
            remoteFs: "/home/jenkins/"
            connector:
              attach:
                user: "jenkins"
            mode: NORMAL
            instanceCapStr: "10"
          # Hyper-V
          - labelString: "docker-hyperv"
            dockerTemplateBase:
              image: "jenkins-slave/default:stable"
            pullStrategy: "PULL_NEVER"
            remoteFs: "/home/jenkins/"
            connector:
              attach:
                user: "jenkins"
            mode: EXCLUSIVE
            instanceCapStr: "5"
          # VMware
          - labelString: "docker-vmware"
            dockerTemplateBase:
              image: "jenkins-slave/vmware:stable"
            pullStrategy: "PULL_NEVER"
            remoteFs: "/home/jenkins/"
            connector:
              attach:
                user: "jenkins"
            mode: EXCLUSIVE
            instanceCapStr: "5"
          # OpenStack
          - labelString: "docker-openstack"
            dockerTemplateBase:
              image: "jenkins-slave/openstack:stable"
            pullStrategy: "PULL_NEVER"
            remoteFs: "/home/jenkins/"
            connector:
              attach:
                user: "jenkins"
            mode: EXCLUSIVE
            instanceCapStr: "5"

credentials:
  system:
    domainCredentials:
      - credentials:
        - usernamePassword:
              scope: GLOBAL
              id: "hvcore-ssh"
              username: ${hyperv-user}
              password: ${hyperv-password}
              description: "Username/Password Credentials for Hyper-V cluster in Provo"
        - file:
              scope: GLOBAL
              id: "ecp-openrc"
              fileName: "ecp-openrc"
              description: "OpenRC Credentials for Engineering Cloud in Provo"
              secretBytes: ${openstack-openrc}
        - usernamePassword:
              scope: GLOBAL
              id: "vcenter-api"
              username: ${vmware-user}
              password: ${vmware-password}
              description: "Username/Password Credentials for VMware cluster in Provo"
        - usernamePassword:
              scope: GLOBAL
              id: "jenkins-api"
              username: ${jenkins-user}
              password: ${jenkins-password}
              description: "Username/Password Credentials for Jenkins API"
        - basicSSHUserPrivateKey:
            scope: GLOBAL
            id: "jenkins-ssh"
            username: "jenkins"
            description: "SSH Credentials for jenkins to connect to the slaves"
            privateKeySource:
              directEntry:
                privateKey: ${jenkins-ssh-private-key}
